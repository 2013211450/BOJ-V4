{% extends "site_base.html" %}
{% load staticfiles %}
{% block extra_head_base %}
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.min.js"></script>

    <link rel="stylesheet" href="{{ STATIC_URL }}css/font-awesome.min.css" type="text/css" charset="utf-8">

    <!--CombineResourcesFilter-->
    <link rel="stylesheet" href="{{ STATIC_URL }}css/planeui.min.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/prettify.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/clear.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/style.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/second-level-menu.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/problem-statement.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/ttypography.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/roundbox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/datatable.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/table-form.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/topic.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/sidebar-menu.css" type="text/css" charset="utf-8">

    <script type="text/javascript" src="{{ STATIC_URL }}js/prettify/prettify.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.lavalamp.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/sjcl.js"></script>

    <!--/CombineResourcesFilter-->

    <link rel="stylesheet" href="{{ STATIC_URL }}editormd/css/editormd.css" />
    <link rel="shortcut icon" href="https://pandao.github.io/editor.md/favicon.ico" type="image/x-icon" />
    <link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}editormd/lib/katex.min.css">
    <script id="-cdnjs-cloudflare-com-ajax-libs-KaTeX-0-3-0-katex-min" type="text/javascript" src="{{ STATIC_URL }}editormd/lib/katex.min.js"></script>
{% endblock %}

{% block head_title %}{{ object.pk }}.{{ object.title }}{% endblock %}
{% block body_base %}
<section class="jumbotron">
  <div class="container">
    <div id="body">
        <br style="height: 3em; clear: both;">
        <div style="position: relative;">
            <div id="sidebar">
                <div class="roundbox sidebox" style="">
                    <div class="roundbox-lt">&nbsp;</div>
                    <div class="roundbox-rt">&nbsp;</div>
                    <div class="caption titled">Problem tags</div>
                    <div style="padding: 0.5em;">
                        <div class="roundbox " style="margin:0px; padding:0px 3px 2px 3px; background-color:#f0f0f0;float:left;">
                            <div class="roundbox-lt">&nbsp;</div>
                            <div class="roundbox-rt">&nbsp;</div>
                            <div class="roundbox-lb">&nbsp;</div>
                            <div class="roundbox-rb">&nbsp;</div>
                            <span class="tag-box" style="font-size:1.2rem;"}>
                                binary search{{ tags }}
                            </span>
                        </div>
                    </div>
                    <div style="clear:both;text-align:right;font-size:1.1rem;">
                        <span title="Please login" class="notice">No tag edit access</span>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div id="pageContent" class="content-with-sidebar">
        <div class="second-level-menu">
            <ul class="second-level-menu-list">
                <li class="backLava" style="position: absolute; display: block; margin: 0; padding: 0; left: 0; top: 0; width: 63px; height: 20px; overflow: hidden;">
                    <div class="leftLava"></div>
                    <div class="bottomLava"></div>
                    <div class="cornerLava"></div>
                </li>
                <li><a href="/submit">Submit</a></li>
                <li><a href="/submission">Submissions</a></li>
            </ul>
        </div>

        <div class="problemindexholder" problemindex={{ object.pk }}>
            <div class="ttypography">
                <div class="problem-statement">
                    <div class="header">
                        <div class="title">{{ object.title }}</div>
                        <div class="time-limit"><div class="property-title">time limit</div>{{ object.time_limit }}</div>
                        <div class="memory-limit"><div class="property-title">memory limit per test</div>{{ object.memory_limit }}</div>
                        <div class="spj"><div class="property-title">special judge</div>{% if object.is_spj %}Yes{% else %}No{% endif %}</div>
                        <div class="input-file"><div class="property-title">input</div>inputfilename{{ INPUTFILE }}</div>
                        <div class="output-file"><div class="property-title">output</div>outputfilename{{ OUTPUTFILE }}</div>
                        <div class="code-length-limit"><div class="property-title">code length limit</div>{{ object.code_length_limit }}</div>
                        <div class="update-time"><div class="property-title">last update time</div>{{ object.last_updated_time }}</div>
                        <div class="author"><div class="property-title">author</div>{{ object.superadmin }}</div>
                    </div>
                    <div>
                        <p>
                            <div id="test-editormd-view">
                                {{ object.problem_desc }}
                            </div>
                        </p>
                    </div>
                    <div class="input-specification">
                        <div class="section-title">Input</div>
                        <p>Input description{{ INPUT }}</p>
                    </div>
                    <div class="output-specification">
                        <div class="section-title">Output</div>
                        <p>Output description{{ OUTPUT }}</p>
                    </div>
                    <div class="sample-tests">
                        <div class="section-title">Examples</div>
                        <div class="sample-test">
                            <div class="input"><div class="title">Input</div><pre>sampleinput1{{ SAMPLEINPUT }}</pre></div>
                            <div class="output"><div class="title">Output</div><pre>sampleoutput1{{ SAMPLEOUTPUT }}</pre></div>
                            <div class="input"><div class="title">Input</div><pre>sampleinput2{{ SAMPLEINPUT }}</pre></div>
                            <div class="output"><div class="title">Output</div><pre>sampleoutput2{{ SAMPLEOUTPUT }}</pre></div>
                        </div>
                    </div>
                    <div class="note">
                        <div class="section-title">Note</div>
                        <p>Note description{{ NOTE }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </div>
  <script src="{{ STATIC_URL }}js/jquery.min.js"></script>
  <script src="{{ STATIC_URL }}editormd/lib/marked.min.js"></script>
  <script src="{{ STATIC_URL }}editormd/lib/prettify.min.js"></script>

  <script src="{{ STATIC_URL }}editormd/lib/raphael.min.js"></script>
  <script src="{{ STATIC_URL }}editormd/lib/underscore.min.js"></script>
  <script src="{{ STATIC_URL }}editormd/lib/sequence-diagram.min.js"></script>
  <script src="{{ STATIC_URL }}editormd/lib/flowchart.min.js"></script>
  <script src="{{ STATIC_URL }}editormd/lib/jquery.flowchart.min.js"></script>

  <script src="{{ STATIC_URL }}editormd/editormd.js"></script>
  <script type="text/javascript">
      $(function() {
          var testEditormdView, testEditormdView2;

          testEditormdView = editormd.markdownToHTML("test-editormd-view", {
              //markdown        : markdown ,//+ "\r\n" + $("#append-test").text(),
              //htmlDecode      : true,       // 开启 HTML 标签解析，为了安全性，默认不开启
              htmlDecode      : "style,script,iframe",  // you can filter tags decode
              //toc             : false,
              tocm            : true,    // Using [TOCM]
              //tocContainer    : "#custom-toc-container", // 自定义 ToC 容器层
              //gfm             : false,
              //tocDropdown     : true,
              // markdownSourceCode : true, // 是否保留 Markdown 源码，即是否删除保存源码的 Textarea 标签
              emoji           : true,
              taskList        : true,
              tex             : true,  // 默认不解析
              flowChart       : true,  // 默认不解析
              sequenceDiagram : true,  // 默认不解析
          });

          //console.log("返回一个 jQuery 实例 =>", testEditormdView);

          // 获取Markdown源码
          console.log(testEditormdView.getMarkdown());

          //alert(testEditormdView.getMarkdown());
      });
  </script>
</section>
{% endblock %}
